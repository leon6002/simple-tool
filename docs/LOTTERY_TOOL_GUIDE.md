# 彩票工具使用指南

## 概述

彩票工具是 SimpleTool 中的一个娱乐工具，提供彩票奖金计算和号码生成功能。支持大乐透、双色球和福彩8三种彩票类型。

## 功能说明

### 1. 奖金计算器

奖金计算器帮助用户快速计算彩票中奖等级和奖金金额。

#### 使用步骤：

1. **选择彩票类型**
   - 点击对应的彩票类型按钮（大乐透/双色球/福彩8）
   - 系统会显示该彩票的规则说明

2. **上传彩票照片（可选）**
   - 点击"选择文件"按钮
   - 选择彩票照片（支持 JPG、PNG、WebP 等格式）
   - 系统会自动识别彩票上的号码
   - 识别结果会显示在下方

3. **手动输入中奖信息**
   - 输入前区/红球中奖个数
   - 输入后区/蓝球中奖个数
   - 点击"计算奖金"按钮

4. **查看结果**
   - 系统会显示中奖等级和奖金金额
   - 如果未中奖，会显示"未中奖"

#### 注意事项：

- OCR 识别功能需要配置 API Key
- 照片质量会影响识别准确率，建议使用清晰的照片
- 浮动奖金的具体金额以官方公布为准
- 福彩8 暂不支持奖金计算功能

### 2. 号码生成器

号码生成器可以随机生成彩票号码，供用户参考。

#### 使用步骤：

1. **选择彩票类型**
   - 点击对应的彩票类型按钮
   - 系统会显示该彩票的规则说明

2. **生成号码**
   - 点击"生成号码"按钮
   - 系统会随机生成一组号码
   - 号码会自动排序并显示

3. **复制号码**
   - 点击"复制号码"按钮
   - 号码会被复制到剪贴板
   - 可以粘贴到其他地方使用

#### 号码格式：

- **大乐透**：5个前区号码 + 2个后区号码
  - 例如：03, 12, 18, 25, 31 + 05, 09

- **双色球**：6个红球号码 + 1个蓝球号码
  - 例如：05, 12, 18, 23, 28, 31 + 08

- **福彩8**：8个号码
  - 例如：08, 15, 23, 34, 45, 56, 67, 78

## 彩票规则详解

### 大乐透 (DLT)

**玩法规则：**
- 前区：从 1-35 中选择 5 个号码
- 后区：从 1-12 中选择 2 个号码

**奖金等级：**

| 等级 | 中奖条件 | 奖金 |
|------|----------|------|
| 一等奖 | 前5+后2 | 浮动奖金 |
| 二等奖 | 前5+后1 | 浮动奖金 |
| 三等奖 | 前5+后0 | 10,000元 |
| 四等奖 | 前4+后2 | 3,000元 |
| 五等奖 | 前4+后1 | 300元 |
| 六等奖 | 前3+后2 或 前4+后0 | 200元 |
| 七等奖 | 前3+后1 或 前2+后2 | 100元 |
| 八等奖 | 前3+后0 或 前1+后2 或 前2+后1 或 前0+后2 | 15元 |

### 双色球 (SSQ)

**玩法规则：**
- 红球：从 1-33 中选择 6 个号码
- 蓝球：从 1-16 中选择 1 个号码

**奖金等级：**

| 等级 | 中奖条件 | 奖金 |
|------|----------|------|
| 一等奖 | 红6+蓝1 | 浮动奖金 |
| 二等奖 | 红6+蓝0 | 浮动奖金 |
| 三等奖 | 红5+蓝1 | 3,000元 |
| 四等奖 | 红5+蓝0 或 红4+蓝1 | 200元 |
| 五等奖 | 红4+蓝0 或 红3+蓝1 | 10元 |
| 六等奖 | 红2+蓝1 或 红1+蓝1 或 红0+蓝1 | 5元 |

### 福彩8 (FC8)

**玩法规则：**
- 从 1-80 中选择 8 个号码

**说明：**
- 福彩8 的奖金计算较为复杂
- 目前仅支持号码生成功能
- 奖金计算功能将在后续版本中添加

## OCR 识别功能

### 配置说明

OCR 识别功能使用 DeepSeek-OCR API，需要在环境变量中配置：

```env
OCR_API_KEY=your-ocr-api-key-here
OCR_BASE_URL=https://api.siliconflow.cn/v1
```

### 使用建议

为了获得最佳识别效果，请注意：

1. **照片质量**
   - 使用清晰的照片
   - 确保光线充足
   - 避免反光和阴影

2. **拍摄角度**
   - 正面拍摄，避免倾斜
   - 彩票平整，无折痕
   - 号码区域完整可见

3. **文件要求**
   - 支持格式：JPG、PNG、WebP 等
   - 最大文件大小：10MB
   - 建议分辨率：1000x1000 以上

### 识别流程

1. 用户上传彩票照片
2. 前端将图片转换为 Base64 格式
3. 调用后端 API `/api/lottery/ocr`
4. API 调用 DeepSeek-OCR 进行文字识别
5. 解析识别结果，提取彩票号码
6. 返回识别的号码给前端显示

### 常见问题

**Q: 为什么识别不出号码？**
A: 可能的原因：
- 照片不清晰
- 光线不足
- 彩票类型不支持
- API Key 未配置或已过期

**Q: 识别结果不准确怎么办？**
A: 建议：
- 重新拍摄更清晰的照片
- 调整拍摄角度和光线
- 使用手动输入功能

## 技术实现

### 前端技术栈

- **React**: UI 框架
- **TypeScript**: 类型安全
- **Framer Motion**: 动画效果
- **Tailwind CSS**: 样式设计
- **React Hot Toast**: 消息提示

### 后端技术栈

- **Next.js API Routes**: API 服务
- **DeepSeek-OCR API**: 图片识别

### 核心功能实现

#### 1. 号码生成算法

```typescript
function generateRandomNumbers(min: number, max: number, count: number): number[] {
  const numbers: number[] = [];
  while (numbers.length < count) {
    const num = Math.floor(Math.random() * (max - min + 1)) + min;
    if (!numbers.includes(num)) {
      numbers.push(num);
    }
  }
  return numbers.sort((a, b) => a - b);
}
```

#### 2. 奖金计算逻辑

根据不同彩票类型和中奖号码数量，使用条件判断计算奖金等级。

#### 3. OCR 识别流程

1. 图片上传和 Base64 转换
2. 调用 OCR API
3. 解析识别结果
4. 提取彩票号码
5. 返回结构化数据

## 免责声明

1. **仅供娱乐参考**
   - 本工具生成的号码完全随机
   - 不保证任何中奖概率
   - 请理性购彩，量力而行

2. **奖金金额仅供参考**
   - 浮动奖金根据当期奖池和中奖人数确定
   - 固定奖金可能因政策调整而变化
   - 请以官方公布为准

3. **OCR 识别准确性**
   - 识别结果受照片质量影响
   - 不保证 100% 准确
   - 请以实际彩票为准

## 未来计划

- [ ] 支持更多彩票类型（3D、排列3/5等）
- [ ] 添加历史开奖查询功能
- [ ] 号码走势分析
- [ ] 多注号码批量生成
- [ ] 号码收藏和管理功能
- [ ] 中奖概率计算器
- [ ] 投注金额计算器
- [ ] 号码过滤功能（奇偶、大小、和值等）

## 联系我们

如有问题或建议，欢迎通过以下方式联系：

- GitHub Issues: [提交问题](https://github.com/your-repo/issues)
- Email: support@simpletool.com

---

**祝您好运！理性购彩，快乐生活！** 🍀

