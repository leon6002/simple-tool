import { Command, CommandCategory } from "@/types";

export const GIT_COMMANDS: Command[] = [
  {
    id: "config-name",
    category: "config",
    name: "设置用户名",
    command: 'git config --global user.name "Your Name"',
    description: "设置提交时使用的用户名",
    example: 'git config --global user.name "John Doe"',
  },
  {
    id: "config-email",
    category: "config",
    name: "设置邮箱",
    command: 'git config --global user.email "you@example.com"',
    description: "设置提交时使用的邮箱地址",
    example: 'git config --global user.email "john@example.com"',
  },
  {
    id: "config-list",
    category: "config",
    name: "查看配置",
    command: "git config --list",
    description: "列出所有Git配置",
    example: "git config --list",
  },
  {
    id: "init",
    category: "setup",
    name: "初始化仓库",
    command: "git init",
    description: "在当前目录创建新的Git仓库",
    example: "git init",
  },
  {
    id: "clone",
    category: "setup",
    name: "克隆仓库",
    command: "git clone [url]",
    description: "克隆远程仓库到本地",
    example: "git clone https://github.com/user/repo.git",
  },
  {
    id: "status",
    category: "basic",
    name: "查看状态",
    command: "git status",
    description: "查看工作区和暂存区的状态",
    example: "git status",
  },
  {
    id: "add",
    category: "basic",
    name: "添加文件到暂存区",
    command: "git add [file]",
    description: "将文件添加到暂存区",
    example: "git add README.md",
  },
  {
    id: "add-all",
    category: "basic",
    name: "添加所有文件到暂存区",
    command: "git add .",
    description: "将所有修改过的文件添加到暂存区",
    example: "git add .",
  },
  {
    id: "commit",
    category: "basic",
    name: "提交更改",
    command: 'git commit -m "commit message"',
    description: "将暂存区的更改提交到本地仓库",
    example: 'git commit -m "Add new feature"',
  },
  {
    id: "commit-amend",
    category: "basic",
    name: "修改最后一次提交",
    command: "git commit --amend",
    description: "修改最后一次提交的内容或信息",
    example: 'git commit --amend -m "Updated commit message"',
  },
  {
    id: "log",
    category: "history",
    name: "查看提交历史",
    command: "git log",
    description: "查看提交历史记录",
    example: "git log",
  },
  {
    id: "log-oneline",
    category: "history",
    name: "简洁查看提交历史",
    command: "git log --oneline",
    description: "以简洁格式查看提交历史",
    example: "git log --oneline",
  },
  {
    id: "log-graph",
    category: "history",
    name: "图形化查看提交历史",
    command: "git log --graph --oneline --all",
    description: "以图形化方式查看提交历史",
    example: "git log --graph --oneline --all",
  },
  {
    id: "diff",
    category: "history",
    name: "查看文件差异",
    command: "git diff",
    description: "查看工作区与暂存区的差异",
    example: "git diff",
  },
  {
    id: "diff-staged",
    category: "history",
    name: "查看暂存区差异",
    command: "git diff --staged",
    description: "查看暂存区与最后一次提交的差异",
    example: "git diff --staged",
  },
  {
    id: "branch",
    category: "branch",
    name: "查看分支",
    command: "git branch",
    description: "列出所有本地分支",
    example: "git branch",
  },
  {
    id: "branch-all",
    category: "branch",
    name: "查看所有分支",
    command: "git branch -a",
    description: "列出所有本地和远程分支",
    example: "git branch -a",
  },
  {
    id: "branch-create",
    category: "branch",
    name: "创建分支",
    command: "git branch [branch-name]",
    description: "创建新分支但不切换",
    example: "git branch feature/new-feature",
  },
  {
    id: "checkout",
    category: "branch",
    name: "切换分支",
    command: "git checkout [branch-name]",
    description: "切换到指定分支",
    example: "git checkout feature/new-feature",
  },
  {
    id: "checkout-create",
    category: "branch",
    name: "创建并切换分支",
    command: "git checkout -b [branch-name]",
    description: "创建并切换到新分支",
    example: "git checkout -b feature/new-feature",
  },
  {
    id: "switch",
    category: "branch",
    name: "切换分支（新方式）",
    command: "git switch [branch-name]",
    description: "切换到指定分支（Git 2.23+）",
    example: "git switch feature/new-feature",
  },
  {
    id: "switch-create",
    category: "branch",
    name: "创建并切换分支（新方式）",
    command: "git switch -c [branch-name]",
    description: "创建并切换到新分支（Git 2.23+）",
    example: "git switch -c feature/new-feature",
  },
  {
    id: "merge",
    category: "branch",
    name: "合并分支",
    command: "git merge [branch-name]",
    description: "将指定分支合并到当前分支",
    example: "git merge feature/new-feature",
  },
  {
    id: "merge-no-ff",
    category: "branch",
    name: "非快进合并",
    command: "git merge --no-ff [branch-name]",
    description: "强制创建合并提交",
    example: "git merge --no-ff feature/new-feature",
  },
  {
    id: "branch-delete",
    category: "branch",
    name: "删除分支",
    command: "git branch -d [branch-name]",
    description: "删除指定分支",
    example: "git branch -d feature/new-feature",
  },
  {
    id: "branch-delete-force",
    category: "branch",
    name: "强制删除分支",
    command: "git branch -D [branch-name]",
    description: "强制删除未合并的分支",
    example: "git branch -D feature/new-feature",
  },
  {
    id: "remote",
    category: "remote",
    name: "查看远程仓库",
    command: "git remote -v",
    description: "查看远程仓库地址",
    example: "git remote -v",
  },
  {
    id: "remote-add",
    category: "remote",
    name: "添加远程仓库",
    command: "git remote add [name] [url]",
    description: "添加新的远程仓库",
    example: "git remote add origin https://github.com/user/repo.git",
  },
  {
    id: "fetch",
    category: "remote",
    name: "获取远程更新",
    command: "git fetch [remote]",
    description: "从远程仓库获取最新数据",
    example: "git fetch origin",
  },
  {
    id: "pull",
    category: "remote",
    name: "拉取远程更改",
    command: "git pull [remote] [branch]",
    description: "从远程仓库拉取并合并更改",
    example: "git pull origin main",
  },
  {
    id: "push",
    category: "remote",
    name: "推送本地更改",
    command: "git push [remote] [branch]",
    description: "将本地更改推送到远程仓库",
    example: "git push origin main",
  },
  {
    id: "push-set-upstream",
    category: "remote",
    name: "设置上游分支",
    command: "git push -u [remote] [branch]",
    description: "推送并设置上游分支",
    example: "git push -u origin feature/new-feature",
  },
  {
    id: "push-tags",
    category: "remote",
    name: "推送标签",
    command: "git push --tags",
    description: "推送所有标签到远程仓库",
    example: "git push --tags",
  },
  {
    id: "stash",
    category: "stash",
    name: "暂存更改",
    command: "git stash",
    description: "暂存当前未提交的更改",
    example: "git stash",
  },
  {
    id: "stash-save",
    category: "stash",
    name: "暂存更改并添加描述",
    command: 'git stash save "message"',
    description: "暂存更改并添加描述信息",
    example: 'git stash save "Work in progress"',
  },
  {
    id: "stash-list",
    category: "stash",
    name: "查看暂存列表",
    command: "git stash list",
    description: "查看所有暂存的更改",
    example: "git stash list",
  },
  {
    id: "stash-pop",
    category: "stash",
    name: "恢复暂存更改",
    command: "git stash pop",
    description: "恢复最近一次暂存的更改",
    example: "git stash pop",
  },
  {
    id: "stash-apply",
    category: "stash",
    name: "应用暂存更改",
    command: "git stash apply",
    description: "应用暂存的更改但不删除",
    example: "git stash apply",
  },
  {
    id: "tag",
    category: "tag",
    name: "查看标签",
    command: "git tag",
    description: "列出所有标签",
    example: "git tag",
  },
  {
    id: "tag-create",
    category: "tag",
    name: "创建标签",
    command: "git tag [tag-name]",
    description: "创建轻量标签",
    example: "git tag v1.0.0",
  },
  {
    id: "tag-annotated",
    category: "tag",
    name: "创建注释标签",
    command: 'git tag -a [tag-name] -m "message"',
    description: "创建带有注释的标签",
    example: 'git tag -a v1.0.0 -m "Release version 1.0.0"',
  },
  {
    id: "tag-delete",
    category: "tag",
    name: "删除标签",
    command: "git tag -d [tag-name]",
    description: "删除本地标签",
    example: "git tag -d v1.0.0",
  },
  {
    id: "rebase",
    category: "advanced",
    name: "变基",
    command: "git rebase [branch-name]",
    description: "将当前分支变基到指定分支",
    example: "git rebase main",
  },
  {
    id: "rebase-interactive",
    category: "advanced",
    name: "交互式变基",
    command: "git rebase -i HEAD~n",
    description: "交互式变基最近n次提交",
    example: "git rebase -i HEAD~3",
  },
  {
    id: "reset",
    category: "advanced",
    name: "重置提交",
    command: "git reset --soft HEAD~1",
    description: "软重置到上一次提交（保留更改）",
    example: "git reset --soft HEAD~1",
  },
  {
    id: "reset-hard",
    category: "advanced",
    name: "硬重置提交",
    command: "git reset --hard HEAD~1",
    description: "硬重置到上一次提交（丢弃更改）",
    example: "git reset --hard HEAD~1",
  },
  {
    id: "revert",
    category: "advanced",
    name: "撤销提交",
    command: "git revert [commit]",
    description: "创建新提交来撤销指定提交",
    example: "git revert abc123",
  },
  {
    id: "cherry-pick",
    category: "advanced",
    name: "选择性合并",
    command: "git cherry-pick [commit]",
    description: "将指定提交应用到当前分支",
    example: "git cherry-pick abc123",
  },
  {
    id: "reflog",
    category: "advanced",
    name: "查看引用日志",
    command: "git reflog",
    description: "查看分支和HEAD的移动历史",
    example: "git reflog",
  },
];

export const GIT_COMMAND_CATEGORIES: CommandCategory[] = Array.from(
  new Set(GIT_COMMANDS.map((ele) => ele.category)) // 1. 提取所有 category 字符串，并用 Set 去重
).map((categoryName) => ({
  // 2. 将去重后的分类名称映射成 CommandCategory 结构
  id: categoryName,
  name: categoryName,
  type: "command",
  description: "",
}));
